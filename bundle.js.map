{"version":3,"sources":["webpack/bootstrap 3112488998af99ac807a","./game.js","./constants/positions.js","./objects/timer.js","./objects/cat.js","./objects/fish.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AC1OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACTA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 3112488998af99ac807a\n **/","var validPositions = require('./constants/positions.js');\nvar Timer = require('./objects/timer.js');\nvar Cat = require('./objects/cat.js');\nvar Fish = require('./objects/fish.js');\n\nvar canvas;\nvar ctx;\n\nvar WIDTH = 482;\nvar HEIGHT = 482;\nvar img = new Image();\nvar catImg = new Image();\nvar cat;\n\nvar fish;\n\n\nvar balloons = [\n  new Image(),\n  new Image(),\n  new Image(),\n  new Image(),\n  new Image()\n];\n\nvar balloon_locations = [\n  [0, 0],\n  [0, 0],\n  [0, 0],\n  [0, 0],\n  [0, 0]\n];\n\nvar collision = 0;\n\nfunction clear() {\n  ctx.drawImage(img, 0, 0);\n\n  //These represent the exit triangle.\n  ctx.moveTo(441, 452);\n  ctx.lineTo(448, 466);\n  ctx.stroke();\n\n  ctx.moveTo(448, 466);\n  ctx.lineTo(455, 452);\n  ctx.stroke();\n\n  ctx.moveTo(455, 452);\n  ctx.lineTo(441, 452);\n  ctx.stroke();\n\n  fish.forEach(function(fish) {\n    ctx.drawImage(fish.image, fish.location[0], fish.location[1]);\n  })\n\n  balloons.forEach(function(balloon, index) {\n    ctx.drawImage(balloon, balloon_locations[index][0], balloon_locations[index][1]);\n  })\n}\n\nfunction init() {\n  canvas = document.getElementById(\"canvas\");\n  ctx = canvas.getContext(\"2d\");\n  cat = new Cat(ctx);\n  cat.image.src = \"./images/cat.png\";\n  img.src = \"./images/maze.gif\";\n\n  fish = [];\n  for(var i = 0; i < 5; i++) {\n    fish.push(new Fish ());\n    fish[i].image.src = \"./images/fish.png\";\n    fish[i].setLocation();\n  }\n\n  balloons.forEach(function(balloon) {\n    balloon.src = \"./images/balloon.png\";\n  })\n\n  setBalloonLocations();\n\n  timer();\n  var drawMaze = setInterval(draw, 10);\n  return drawMaze;\n}\n\nfunction setBalloonLocations() {\n  balloon_locations.forEach(function(balloon) {\n    var index = Math.floor(Math.random() * validPositions.length)\n    var coords = validPositions[index];\n    validPositions.splice(index, 1);\n    balloon[0] = coords[0];\n    balloon[1] = coords[1];\n  })\n}\n\nfunction timer() {\n  timer = new Timer();\n  timer.start();\n}\n\nfunction doKeyDown(evt){\n  switch (evt.keyCode) {\n    case 38:  //Up Arrow\n      if (cat.y - cat.dy > 0) {\n        cat.y -= cat.dy;\n        clear();\n        checkForFish();\n        checkForBalloons();\n        checkcollision();\n        if (collision == 1) {\n          cat.y += cat.dy;\n          collision = 0;\n        }\n      }\n      checkIfWon();\n      break;\n    case 40:  //Down Arrow\n      if (cat.y + cat.dy < HEIGHT ) {\n        cat.y += cat.dy;\n        clear();\n        checkForFish();\n        checkForBalloons();\n        checkcollision();\n        if (collision == 1) {\n          cat.y -= cat.dy;\n          collision = 0;\n        }\n      }\n      checkIfWon();\n      break;\n    case 37:  //Left Arrow\n      if (cat.x - cat.dx > 0) {\n        cat.x -= cat.dx;\n        clear();\n        checkForFish();\n        checkForBalloons();\n        checkcollision();\n        if (collision == 1) {\n          cat.x += cat.dx;\n          collision = 0;\n        }\n      }\n      checkIfWon();\n      break;\n    case 39:  //Right Arrow\n      if ((cat.x + cat.dx < WIDTH)) {\n        cat.x += cat.dx;\n        clear();\n        checkForFish();\n        checkForBalloons();\n        checkcollision();\n        if (collision == 1) {\n          cat.x -= cat.dx;\n          collision = 0;\n        }\n      }\n      checkIfWon();\n      break;\n  }\n}\n\nfunction checkcollision() {\n  var imgd = ctx.getImageData(cat.x, cat.y, 15, 15);\n  var pix = imgd.data;\n  for (var i = 0; n = pix.length, i < n; i += 4) {\n    if (pix[i] == 0) {\n      collision = 1;\n    }\n  }\n}\n\nfunction checkForFish() {\n  var imgd = ctx.getImageData(cat.x, cat.y, 15, 15);\n  var pix = imgd.data;\n  for (var i = 0; n = pix.length, i < n; i += 4) {\n    if (pix[i] > 0 && pix[i] < 140) {\n      fish.forEach(function(_fish, index) {\n        if ((Math.abs(cat.x - _fish.location[0]) < 20) && (Math.abs(cat.y - _fish.location[1]) < 20)) {\n          ctx.clearRect(_fish.location[0], _fish.location[1], 15, 15);\n          fish.splice(fish.indexOf(_fish), 1);\n          // fish_locations.splice(index, 1);\n          timer.time += 30;\n        }\n      })\n    }\n  }\n}\n\nfunction checkForBalloons() {\n  var imgd = ctx.getImageData(cat.x, cat.y, 15, 15);\n  var pix = imgd.data;\n  for (var i = 0; n = pix.length, i < n; i += 4) {\n    if (pix[i] === 140) {\n      balloon_locations.forEach(function(location, index) {\n        if ((Math.abs(cat.x - location[0]) < 20) && (Math.abs(cat.y - location[1]) < 20)) {\n          ctx.clearRect(balloon_locations[index][0], balloon_locations[index][1], 15, 15);\n          balloons.splice(index, 1);\n          balloon_locations.splice(index, 1);\n          timer.time -= 30;\n        }\n      })\n    }\n  }\n}\n\n\nfunction checkIfWon() {\n  if ((cat.x + 15) > 441 && (cat.y + 15) > 452) {\n    ctx.font = \"30px Arial\";\n    ctx.fillText(\"You've won!\", 241, 241);\n  }\n}\n\nfunction draw() {\n  clear();\n\n  ctx.drawImage(cat.image, cat.x, cat.y);\n\n  ctx.fillStyle = \"MidnightBlue\";\n\n  if ((timer.time === 0) && !((cat.x + 15) > 441 && (cat.y + 15) > 452)) {\n    ctx.fillStyle = \"rgba(255, 0, 0, 1.0)\";\n    ctx.font = \"bold 56px Arial\";\n    ctx.fillText(\"You've lost!\", 105, 241);\n    document.getElementById(\"canvas\").style.opacity = \"0.5\";\n  } else if ((cat.x + 15) > 441 && (cat.y + 15) > 452) {\n    ctx.fillStyle = \"rgba(0, 255, 0, 1.0)\";\n    ctx.font = \"bold 56px Arial\";\n    ctx.fillText(\"You've won!\", 105, 241);\n    document.getElementById(\"canvas\").style.opacity = \"0.5\";\n  }\n}\n\ninit();\nwindow.addEventListener('keydown', doKeyDown, true);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./game.js\n ** module id = 0\n ** module chunks = 0\n **/","var positions = [\n  [330, 310],\n  [245, 330],\n  [315, 355],\n  [70, 245],\n  [90, 265],\n  [110, 245],\n  [175, 265],\n  [25, 155],\n  [25, 220],\n  [25, 310],\n  [70, 310],\n  [115, 220],\n  [45, 290],\n  [45, 180],\n  [65, 155],\n  [200, 135],\n  [220, 70],\n  [180, 110],\n  [155, 155],\n  [25, 25],\n  [90, 90],\n  [90, 200],\n  [155, 155],\n  [285, 25],\n  [445, 25],\n  [420, 155],\n  [245, 400],\n  [180, 400],\n  [180, 310],\n  [265, 310],\n  [310, 265],\n  [265, 245],\n  [355, 245],\n  [355, 220],\n  [375, 270],\n  [90, 420],\n  [70, 400],\n  [110, 400],\n  [110, 440],\n  [195, 440],\n  [265, 405],\n  [265, 405],\n  [265, 375],\n  [70, 440],\n  [45, 440],\n  [45, 400],\n  [25, 440],\n  [25, 330],\n  [90, 330],\n  [90, 290],\n  [200, 265],\n  [225, 290],\n  [245, 245],\n  [440, 270],\n  [400, 355],\n  [400, 200],\n  [330, 180],\n  [265, 200],\n  [330, 220],\n  [180, 220]\n];\n\nmodule.exports = positions;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./constants/positions.js\n ** module id = 1\n ** module chunks = 0\n **/","var Timer = function () {\n\tthis.time = (60 * 10);\n\tthis.domEl = document.getElementById(\"timer\");\n};\n\nTimer.prototype.start = function () {\n\tthis.timer = setInterval(function() {\n\t\tthis.time -= 1;\n\t\tthis.domEl.innerHTML = this.render(this.time);\n\t}.bind(this), 1000);\n\treturn timer;\n};\n\nTimer.prototype.render = function (seconds) {\n\tif (seconds === 0) {\n\t\tclearInterval(this.timer);\n\t}\n\tif (seconds > 60 && seconds < 120) {\n\t\tif (seconds === 61) {\n\t\t\treturn (\"1 minute and 1 second remaining\");\n\t\t} else {\n\t\t\treturn (\"1 minute and \" + (seconds % 60) + \" seconds remaining\");\n\t\t}\n\t} else if (seconds >= 60) {\n\t\tif (seconds % 60 === 1) {\n\t\t  return (\"\" + Math.floor(seconds / 60) + \" minutes and 1 second remaining\");\n\t\t} else {\n\t\t\treturn (\"\" + Math.floor(seconds / 60) + \" minutes and \" + (seconds % 60) + \" seconds remaining\");\n\t\t}\n\t} else {\n\t\tif (seconds === 1) {\n\t\t\treturn (\"1 second remaining\");\n\t\t} else {\n\t\t\treturn (\"\" + seconds + \" seconds remaining\");\n\t\t}\n\t}\n};\n\nmodule.exports = Timer;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./objects/timer.js\n ** module id = 2\n ** module chunks = 0\n **/","var Cat = function (ctx) {\n  this.x = 200;\n  this.y = 5;\n  this.dx = 5;\n  this.dy = 5;\n  this.ctx = ctx;\n  this.image = new Image();\n};\n\nmodule.exports = Cat;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./objects/cat.js\n ** module id = 3\n ** module chunks = 0\n **/","var validPositions = require('../constants/positions.js');\n\nvar Fish = function () {\n  this.image = new Image();\n  this.location = [0, 0];\n};\n\nFish.prototype.setLocation = function () {\n  var index = Math.floor(Math.random() * validPositions.length);\n  var coords = validPositions[index];\n  validPositions.splice(index, 1);\n  this.location[0] = coords[0];\n  this.location[1] = coords[1];\n};\n\nmodule.exports = Fish;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./objects/fish.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}